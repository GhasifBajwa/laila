<style>
  .item img {
    object-fit: cover;
    border: 1px solid #ccc;
  }
</style>
<section>
  <div class="gallery_Collection">
    {% for collection in collections %}
      {% assign img_width = collection.metafields.custom.image_width | default: 300 %}
      {% assign img_height = collection.metafields.custom.image_height | default: 250 %}
      <div class="item" style="text-align:center;">
        <img
          src="{{ collection.image | image_url: width: img_width }}"
          alt="{{ collection.title }}"
          style="width: {{ img_width }}px; height: {{ img_height }}px; object-fit: cover; border: 1px solid #ccc;" />
        <div class="caption">{{ collection.title | upcase }}</div>
      </div>
    {% endfor %}
  </div>
</section>


<script>
  const items = document.querySelectorAll(".item img");
  
  document.addEventListener("mousemove", (e) => {
    items.forEach((img) => {
      const rect = img.getBoundingClientRect();
      const imgX = rect.left + rect.width / 2;
      const imgY = rect.top + rect.height / 2;
  
      const dx = e.clientX - imgX;
      const dy = e.clientY - imgY;
      const dist = Math.sqrt(dx * dx + dy * dy);
  
      const force = Math.min(15, 100 / dist);
      const moveX = -dx * force * 0.5;
      const moveY = -dy * force * 0.5;
  
      img.style.transform = `translate(${moveX}px, ${moveY}px)`;
    });
  });
  
  document.addEventListener("mouseleave", () => {
    items.forEach((img) => {
      img.style.transform = "translate(0, 0)";
    });
  });
</script>
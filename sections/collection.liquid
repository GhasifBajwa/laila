<section>
  <div class="gallery_Collection">
    {% for collection in collections %}
      <div class="item">
        <img src="{{ collection.image | image_url: width: 100 }}" alt="{{ collection.title }}" />
        <div class="caption">{{ collection.title | upcase }}</div>
      </div>
    {% endfor %}
  </div>
</section>

<script>
  const items = document.querySelectorAll(".item img");
  
  document.addEventListener("mousemove", (e) => {
    items.forEach((img) => {
      const rect = img.getBoundingClientRect();
      const imgX = rect.left + rect.width / 2;
      const imgY = rect.top + rect.height / 2;
  
      const dx = e.clientX - imgX;
      const dy = e.clientY - imgY;
      const dist = Math.sqrt(dx * dx + dy * dy);
  
      const force = Math.min(15, 100 / dist);
      const moveX = -dx * force * 0.5;
      const moveY = -dy * force * 0.5;
  
      img.style.transform = `translate(${moveX}px, ${moveY}px)`;
    });
  });
  
  document.addEventListener("mouseleave", () => {
    items.forEach((img) => {
      img.style.transform = "translate(0, 0)";
    });
  });
</script>